##Kmom06

Kmom06 inom JavaScript handlar om moduler och closure.  JavaScript har funktions scope och variabler som är definierad i en funktion och är osynlig utanför funktionen, men synlig inom hela funktionen, inklusive andra funktioner som definieras inom funktionen.  Vilket betyder att inre funktioner har åtkomst till yttre funktionens variabler och detta kan utnyttjas för säkrare kod med mindre risk för ändringar utanför scopet.  Man kan då tex. definiera en variabel och returnera en funktion för att ändra denna variabels värde.  Så istället för direkt åtkomst till variabeln kan man bara ändra värdet genom funktionen, som man har full kontroll över.  Detta blir då säkrare och man kan bygga vidare genom att skapa en modul med många egna variabler och funktioner i ett eget paket.  Variabler är privata till modulen och man skapar funktioner för att visa, ändra eller påverka dessa variabler globalt.  Den miljö som funktionen skapats i lever så länge funktionen lever och kallas för en closure, inre funktioner kan komma åt det yttre miljö som fanns när funktionen skapades.  Tekniken att använda closure för att skapa moduler i JavaScript heter ”Module Pattern” och är ett sätt att kapsylera publika och private variabler och metoder från det globala scopet.  Nu kan man skydda privata delar från den globala miljön, eller även andra moduler, och bara publika innehåll returneras.

I uppgiften skapade jag i Hangman modulen funktioner för att returnera ordlista med Hangman.wordlist() samt det aktiva ordet med Hangman.peek().  Utöver detta skapade jag en Hangman.restart() funktion för att starta om spelet.  I Hangman modulen lagrade jag det aktiva ordet i en variabel som är bara tillgänglig till två funktioner som returneras.  En funktion visar vad ordet är och kallas från Hangman.peek() och den andra funktion kallas för att ändra det aktiva ordet till en ny random ord från ordlistan.  Med closure kan man ej komma åt det aktiva ordet utan bara genom dessa två funktioner.  

Det kändes naturligt för mig att scopet fungerar på detta sätt.  Men att utnyttja closure och moduler känns som en prioritering framöver nu.  Att kapsla in kod till moduler skapar ett bättre och säkrare struktur för vidare utveckling och kunskapen av hur enclosure fungerar kommer underlätta och förbättra processen.  

Jag har inte så mycket erfarenhet av designmönster förut, men kommer på att inom Python så har variabler som är definierade inom funktioner lokala scope och måste definieras som globala om så önskas.

Som sagt tycker jag att ”Module Pattern” är ett säkrare och smartare sätt att skriva kod, att skydda private delar från den globala scopet och skapa funktioner för att returnera publika delar är en väldigt bra metod att jobba emot.

Boken “Learning JavaScript Design Patterns” har varit väldigt informativ och välskriven, det passar mig bra att den är på engelska också.  Jag kommer läsa färdigt boken inom kort.  Det är bra att läsa lite olika material för att skapa en bättre förståelse av tekniker och metoder inom JavaScript, så jag har kompletterat boken med olika diverse webbartiklar.

Min TIL för detta kursmoment är en bättre förståelse av scope inom JavaScript och hur man kan använda closure för att inkapsla koden i moduler.  Resultatet är en bättre kodstruktur och säkerhet samt möjligheten att använda flera moduler ihop på samma projekt utan att de krockar.
